<!DOCTYPE>
<html>
<head>
<meta charset="utf-8">
<title>Vue</title>
<script src="js/jquery.js"></script>
<script src="js/vue.js"></script>
<script src="js/vue-router.js"></script>
<script src="js/script.js"></script>
<script src="js/bootstrap.js"></script>
<link rel="stylesheet" href="css/bootstrap.css">
<link rel="stylesheet" href="css/normalize.css">
<link rel="stylesheet" href="css/style.css">
<style>

</style>
</head>
<body>
<br/>
<div class="container" id="app">
<form role="form">
  <div class="form-group">
    <label>用户名</label>
    <input type="text" class="form-control" placeholder="请输入姓名" v-model="name">
  </div>
  <div class="form-group">
    <label>年龄</label>
    <input type="text" class="form-control" placeholder="请输入年龄" v-model="age">
  </div>
  
  <button class="btn btn-primary" v-on:click.prevent="add">Submit</button>
</form>
<br/>
<table class="table table-hover">
  <caption class="text-center h3">记录表</caption>
  <tr>
  	<th class="text-center">姓名</th>
  	<th class="text-center">年龄</th>
  	<th class="text-center">操作</th>
  </tr>
  <tr class="text-center" v-for="(list,index) in lists">
  	<td>{{ list.name }}</td>
  	<td>{{ list.age }}</td>
  	<td><button type="button" class="btn btn-primary" data-toggle="modal" data-target="#del" v-on:click="nowIndex=index">删除</button></td>
  </tr>
  <tr v-show="lists.length == 0">
     <td colspan="4" class="text-center text-muted">
       <p>暂无数据...</p>
     </td>
  </tr>
</table>

<!-- Modal -->
<div class="modal fade" id="del" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" :data-index="nowIndex">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
        <h4 class="modal-title" id="myModalLabel">确认删除吗</h4>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
        <button type="button" class="btn btn-primary" data-dismiss="modal" v-on:click="dele(nowIndex)">删除</button>
      </div>
    </div>
  </div>
</div>


</div>

<script>
new Vue({
	el:'#app',
	data:{
		age:'',
		name:'',
		nowIndex:-100,
		lists:[
           {name:'小李',age:'14'},
           {name:'小华',age:'15'},
           {name:'小刚',age:'16'},
           {name:'小永',age:'17'}
		]
	},
	methods:{
		add:function(){
			this.lists.push({
				age:this.age,
				name:this.name
			});
			this.age='';
			this.name='';
		},
		dele:function(n){
            this.lists.splice(n,1)
		}
	}

})
</script>
</body>
</html>